{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock title %}

{% block content %}

    <div class="container">
      <div class="row justify-content-md-center pt-5">
        <div class="col-md-8">
            <div class="col-12"><h3>{{post.title}}</h3></div>
            <div class="col-12"><p>{{post.content|safe}}</p></div>
            <div class="col-md-12">
              {% with comments.count as total_comments %}
                <h2>
                  {{ total_comments }} comment{{ total_comments|pluralize }}
                </h2>
              {% endwith %}

              {% for comment in comments %}
                Comment {{ forloop.counter }} by {{ comment.name }}
                on {{ comment.publish }}
                {{ comment.content|linebreaks }}
                {% empty %}
                  <p>There are no comments for this post.</p>
              {% endfor %}
              
              <h2>Make a new comment.</h2>
              <form id="myForm" method="POST" >
                {{ comment_form.as_p }}
                {% csrf_token %}
                <button class="btn btn-primary btn-lg btn-block" type="submit">Submit</button>
              </form>
            </div>
        </div>
      </div>
    </div>

{% endblock content %}